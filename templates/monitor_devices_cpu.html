{% extends 'base.html' %}
{% block title %}
    乾頤堂监控设备
{% endblock title %}

{% block js %}
    <!-- 加载Chart.js的JS文件 -->
    <!-- 最新的Chart JS 文件 https://cdnjs.com/libraries/Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
    <!-- 加载本项目创建的chart_json_functions.js的JS文件-->
    {% load static %}
    <script src="{% static "js/chart_functions.js" %}"></script>
    <!-- 加载ajax的JS文件-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
{% endblock js %}

{% block body %}

<div class="container-fluid">
<div class="card text-center">
  <div class="card-header">
    <ul class="nav nav-tabs card-header-tabs">
      {% for device in devices_list %}
          {% if device == current %}
          <li class="nav-item">
            <a class="nav-link active" href="/monitordevice/cpu/{{ device }}/">{{ device }}</a>
          </li>
          {% else %}
          <li class="nav-item">
            <a class="nav-link" href="/monitordevice/cpu/{{ device }}/">{{ device }}</a>
          </li>
          {% endif %}
      {% endfor %}
    </ul>
  </div>
  <div class="card-body">
    <!--h5 class="card-title">{{ current }} CPU利用率</h5-->
      <div class='row'>
          <div class='col col-md-2'>
          </div>
          <div class='col col-md-8'>
            <canvas id="chart"></canvas>
          </div>
          <div class='col col-md-2'>
          </div>
      </div>
  </div>
</div>


</div>

<script type="text/javascript" language="javascript">
    chart_line('chart', "{{ current }} CPU利用率", ['2018-8-1', '2018-8-2', '2018-8-3', '2018-8-4', '2018-8-5', '2018-8-6'], [1, 98, 12, 5, 53, 41], ['#007bff', '#28a745', '#333333', '#c3e6cb', '#dc3545', '#6c757d']);
</script>
{% endblock body %}
